<!--
  Generated template for the Configuration page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar>
        <ion-title>Configuration</ion-title>
        <ion-buttons start>
            <button ion-button icon-only [hidden]="isOnEdit" (click)="discardChanges()">
                Discard
            </button>
        </ion-buttons>
        <ion-buttons end>
            <button ion-button icon-only [hidden]="!isOnEdit" (click)="changeEditState()">
                <ion-icon name="create"></ion-icon>
            </button>
            <button ion-button icon-only [hidden]="isOnEdit" (click)="saveChanges()">
                Save
            </button>
        </ion-buttons>
    </ion-navbar>
</ion-header>

<ion-content padding>
    <ion-list [hidden]="!isOnEdit">
        <ion-item>
            <button ion-button [style.background-color]="this.navParams.data.tenant.configuration.color"> Color </button>
        </ion-item>
        <ion-item>
            <h2>Company Name</h2>
            <p>{{this.navParams.data.tenant.name}}</p>
        </ion-item>
        <ion-item>
            <h2>Bot Name</h2>
            <p>{{this.navParams.data.tenant.configuration.botName}}</p>
        </ion-item>
        <ion-item>
            <h2>Bot Url</h2>
            <p>{{this.navParams.data.tenant.configuration.bot_url}}</p>
        </ion-item>

        <ion-item no-lines>
            <h2>Total Bot Usage</h2>
            <p>{{navParams.data.tenant.configuration.chatHistory.length}} Times</p>
        </ion-item>
    </ion-list>


    <ion-list [hidden]="isOnEdit">
        <div padding>
            <p>Color</p>
            <input #picker id="picker" class="color-input" [(ngModel)]="this.navParams.data.tenant.configuration.color"/>
        </div>

        <ion-item>
            <ion-label floating>Bot Name</ion-label>
            <ion-input [(ngModel)]="this.navParams.data.tenant.configuration.botName" type="text" value="{{this.navParams.data.tenant.configuration.botName}}"></ion-input>
        </ion-item>

    </ion-list>

</ion-content>
